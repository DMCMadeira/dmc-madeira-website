<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability - DMC Madeira | Because We Care</title>
    <meta name="description" content="Discover DMC Madeira's commitment to sustainability. We believe in responsible travel that respects communities, protects the environment, and creates long-term value.">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Sustainability - DMC Madeira">
    <meta property="og:description" content="Because we care. Discover our commitment to sustainable travel in Madeira.">
    <meta property="og:image" content="assets/og-image.webp">
    <meta property="og:type" content="website">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/pages/sustainability.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header__container">
            <a href="index.html" class="header__logo">
                <img src="assets/logos/header-logo-dmcmadeira.svg" alt="DMC Madeira">
            </a>

            <nav class="header__nav">
                <ul class="header__nav-list">
                    <li class="header__nav-item">
                        <a href="#" class="header__nav-link">
                            Who we are
                            <img src="assets/icons/header-icon-chevrondown.svg" alt="">
                        </a>
                        <div class="header__dropdown">
                            <a href="our-story.html" class="header__dropdown-link">Our Story</a>
                            <a href="#" class="header__dropdown-link">Our Team</a>
                            <a href="sustainability.html" class="header__dropdown-link">Sustainability</a>
                        </div>
                    </li>
                    <li class="header__nav-item">
                        <a href="experiences.html" class="header__nav-link">
                            Experiences
                            <img src="assets/icons/header-icon-chevrondown.svg" alt="">
                        </a>
                        <div class="header__dropdown">
                            <a href="nature-wellness.html" class="header__dropdown-link">Nature & Wellness</a>
                            <a href="gastronomy-wine.html" class="header__dropdown-link">Gastronomy & Wine</a>
                            <a href="cultural-discovery.html" class="header__dropdown-link">Cultural Discovery</a>
                            <a href="golf.html" class="header__dropdown-link">Golf</a>
                            <a href="madeira-by-sea.html" class="header__dropdown-link">Madeira by Sea</a>
                            <a href="photography-birdwatching.html" class="header__dropdown-link">Photography</a>
                        </div>
                    </li>
                    <li class="header__nav-item">
                        <a href="shorex.html" class="header__nav-link">Shorex</a>
                    </li>
                    <li class="header__nav-item">
                        <a href="groups-incentives.html" class="header__nav-link">Groups & Incentives</a>
                    </li>
                    <li class="header__nav-item">
                        <a href="insider.html" class="header__nav-link">Insider</a>
                    </li>
                </ul>
            </nav>

            <div class="header__language">
                <img src="assets/icons/header-icon-language.svg" alt="" class="header__language-icon">
                <a href="#" class="active">PT</a>
                <span class="header__language-divider">|</span>
                <a href="#">EN</a>
            </div>

            <button class="btn btn--small btn--glass header__menu-btn">
                <img src="assets/icons/header-icon-menu.svg" alt="">
                Menu
            </button>
        </div>

        <!-- Mobile Navigation -->
        <nav class="header__mobile-nav">
            <div class="header__mobile-nav-header">
                <a href="index.html" class="header__logo">
                    <img src="assets/logos/header-logo-dmcmadeira-nomargin-mobile.svg" alt="DMC Madeira">
                </a>
                <button class="header__mobile-close">
                    <img src="assets/icons/header-icon-close-mobile.svg" alt="Close">
                </button>
            </div>
            <ul class="header__mobile-list">
                <li>
                    <a href="contact-us.html" class="header__mobile-link">
                        Who we are
                        <img src="assets/icons/header-icon-arrowright-mobile.svg" alt="">
                    </a>
                </li>
                <li>
                    <a href="experiences.html" class="header__mobile-link">
                        Experiences
                        <img src="assets/icons/header-icon-arrowright-mobile.svg" alt="">
                    </a>
                </li>
                <li>
                    <a href="shorex.html" class="header__mobile-link">
                        Shorex
                        <img src="assets/icons/header-icon-arrowright-mobile.svg" alt="">
                    </a>
                </li>
                <li>
                    <a href="#" class="header__mobile-link">
                        Groups & Incentives
                        <img src="assets/icons/header-icon-arrowright-mobile.svg" alt="">
                    </a>
                </li>
                <li>
                    <a href="insider.html" class="header__mobile-link">
                        Insider
                        <img src="assets/icons/header-icon-arrowright-mobile.svg" alt="">
                    </a>
                </li>
            </ul>
            <div class="header__mobile-footer">
                <div class="header__mobile-language">
                    <img src="assets/icons/footer-icon-language.svg" alt="">
                    <a href="#">Portuguese</a>
                    <span>|</span>
                    <a href="#" class="active">English</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <!-- Hero Section -->
        <section class="hero-page hero-page--short">
            <div class="hero-page__background">
                <picture>
                    <source media="(max-width: 768px)" srcset="assets/images/sustainability-topbanner.webp 1x, assets/images/sustainability-topbanner@2x.webp 2x">
                    <img src="assets/images/sustainability-topbanner.webp" 
                         srcset="assets/images/sustainability-topbanner.webp 1x, assets/images/sustainability-topbanner@2x.webp 2x"
                         alt="Madeira natural landscape">
                </picture>
            </div>
            <div class="hero-page__content">
                <span class="hero-page__breadcrumb">Sustainability</span>
                <h1 class="hero-page__title">Because we care</h1>
            </div>
        </section>

        <!-- Responsibility Section -->
        <section class="responsibility">
            <div class="container responsibility__container">
                <h2 class="responsibility__title">Responsibility beyond labels</h2>
                <div class="responsibility__content">
                    <p class="responsibility__text">At DMC Madeira, we don't chase certifications or slogans to validate our values. For us, sustainability in Madeira is not a marketing trend, it's a way of life.</p>
                    <p class="responsibility__text">Living and working on islands teaches us fragility and respect. Our responsibility is to preserve Madeira and Porto Santo as close to their natural state as possible, ensuring that both our operations and our guests leave the lightest footprint.</p>
                    <p class="responsibility__text">Every itinerary, from a yoga retreat in Madeira to a Madeira shore excursion, is designed with sustainability at its core, balancing experience, comfort and care for the environment.</p>
                </div>
            </div>
        </section>

        <!-- Real Actions Section -->
        <section class="real-actions">
            <div class="container">
                <h2 class="real-actions__title">Real actions, every day</h2>
                <div class="real-actions__container">
                    <div class="real-actions__image-wrapper">
                        <div class="real-actions__image">
                            <picture>
                                <img src="assets/images/sustainability-eletricfleet.webp" 
                                     srcset="assets/images/sustainability-eletricfleet.webp 1x, assets/images/sustainability-eletricfleet@2x.webp 2x"
                                     alt="Electric fleet"
                                     id="real-actions-image">
                            </picture>
                        </div>
                    </div>
                    <div class="real-actions__items">
                        <div class="real-actions__item" data-image="assets/images/sustainability-eletricfleet.webp" data-image-2x="assets/images/sustainability-eletricfleet@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-eletricfleet.webp" 
                                         srcset="assets/images/sustainability-eletricfleet.webp 1x, assets/images/sustainability-eletricfleet@2x.webp 2x"
                                         alt="Electric fleet">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Electric fleet</h3>
                            <p class="real-actions__item-text">Meet Smartie one of our 100% electric fleet. We invest continuously in electric vehicles for our logistics and management team, reducing emissions.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-solarpower.webp" data-image-2x="assets/images/sustainability-solarpower@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-solarpower.webp" 
                                         srcset="assets/images/sustainability-solarpower.webp 1x, assets/images/sustainability-solarpower@2x.webp 2x"
                                         alt="Solar power">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Solar power</h3>
                            <p class="real-actions__item-text">Our offices operate partially on renewable energy, using solar panels to generate clean power and lower our carbon footprint.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-plasticfree.webp" data-image-2x="assets/images/sustainability-plasticfree@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-plasticfree.webp" 
                                         srcset="assets/images/sustainability-plasticfree.webp 1x, assets/images/sustainability-plasticfree@2x.webp 2x"
                                         alt="Plastic-free pledge">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Plastic-free pledge</h3>
                            <p class="real-actions__item-text">We've eliminated single-use plastics from daily operations. Our team use glass or refillable bottles, and we offer eco-friendly hydration options across tours and events.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-paperless.webp" data-image-2x="assets/images/sustainability-paperless@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-paperless.webp" 
                                         srcset="assets/images/sustainability-paperless.webp 1x, assets/images/sustainability-paperless@2x.webp 2x"
                                         alt="Paperless office">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Paperless office</h3>
                            <p class="real-actions__item-text">Our workflow is nearly 80% digital. From proposals to itineraries, we minimize paper consumption and waste.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-recycling.webp" data-image-2x="assets/images/sustainability-recycling@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-recycling.webp" 
                                         srcset="assets/images/sustainability-recycling.webp 1x, assets/images/sustainability-recycling@2x.webp 2x"
                                         alt="Waste reduction & recycling">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Waste reduction & recycling</h3>
                            <p class="real-actions__item-text">We actively recycle, separate materials, and reuse resources whenever possible.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-composting.webp" data-image-2x="assets/images/sustainability-composting@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-composting.webp" 
                                         srcset="assets/images/sustainability-composting.webp 1x, assets/images/sustainability-composting@2x.webp 2x"
                                         alt="Organic composting">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Organic composting</h3>
                            <p class="real-actions__item-text">We compost coffee grounds and organic waste from our office, transforming daily habits into circular solutions.</p>
                        </div>
                        <div class="real-actions__item" data-image="assets/images/sustainability-supportingnature.webp" data-image-2x="assets/images/sustainability-supportingnature@2x.webp">
                            <div class="real-actions__item-image">
                                <picture>
                                    <img src="assets/images/sustainability-supportingnature.webp" 
                                        srcset="assets/images/sustainability-supportingnature.webp 1x, assets/images/sustainability-supportingnature@2x.webp 2x"
                                         alt="Supporting nature directly">
                                </picture>
                            </div>
                            <h3 class="real-actions__item-title">Supporting nature directly</h3>
                            <p class="real-actions__item-text">We collaborate with local public and environmental entities to protect Madeira’s ecosystem, supporting levada maintenance, beach clean-ups, and forest care projects that help sustain biodiversity.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vision Section -->
        <section class="vision">
            <div class="container">
                <div class="vision__header">
                    <h2 class="vision__title">Our vision: Travel that gives back</h2>
                    <p class="vision__text">Sustainability, for us, is not about doing less, but doing better. Every tailor-made travel program is optimized to minimize environmental impact. We believe in responsible travel to Madeira: travel that respects communities, protects the environment, and creates long-term value for both visitors and locals.</p>
                </div>
                <div class="vision__video">
                    <picture>
                        <img src="assets/images/sustainability-video-placeholder.webp" 
                             srcset="assets/images/sustainability-video-placeholder.webp 1x, assets/images/sustainability-video-placeholder@2x.webp 2x"
                             alt="Sustainability video">
                    </picture>
                    <button class="vision__play" aria-label="Play video">
                        <svg xmlns="http://www.w3.org/2000/svg" width="44" height="52" viewBox="0 0 44 52" fill="none">
                            <path d="M42.1 22.6237L6.08 0.588748C5.47272 0.21688 4.77717 0.0138706 4.0652 0.000685866C3.35322 -0.0124988 2.65064 0.164619 2.03 0.513748C1.41527 0.857454 0.903191 1.3587 0.54641 1.96593C0.189629 2.57316 0.00102714 3.26446 0 3.96875V48.0338C0.00463191 49.0902 0.428584 50.1016 1.17866 50.8456C1.92873 51.5896 2.94354 52.0052 4 52.0013C4.73738 52.0009 5.46045 51.7977 6.09 51.4138L42.1 29.3787C42.6788 29.0259 43.1572 28.5302 43.4891 27.9392C43.8211 27.3481 43.9954 26.6816 43.9954 26.0037C43.9954 25.3259 43.8211 24.6594 43.4891 24.0683C43.1572 23.4773 42.6788 22.9816 42.1 22.6287V22.6237Z" fill="#0D2D18"/>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Join Section -->
        <section class="join">
            <div class="join__container">
                <div class="join__image">
                    <picture>
                        <source media="(max-width: 768px)" srcset="assets/images/sustainability-bottom-mobile.webp 1x, assets/images/sustainability-bottom-mobile@2x.webp 2x">
                        <img src="assets/images/sustainability-bottom-desktop.webp" 
                             srcset="assets/images/sustainability-bottom-desktop.webp 1x, assets/images/sustainability-bottom-desktop@2x.webp 2x"
                             alt="Sustainable travel in Madeira">
                    </picture>
                </div>
                <div class="join__content">
                    <h2 class="join__title">Join us in making a difference</h2>
                    <p class="join__text">Whether you're planning a wellness retreat, corporate event, or family tour in Madeira, we invite you to travel consciously, leaving positive footprints behind.</p>
                    <p class="join__text">Together, we're shaping a more sustainable future for the islands we call home.</p>
                    <div class="join__buttons">
                        <a href="contact-us.html" class="btn btn--dark">Contact our team</a>
                        <a href="experiences.html" class="btn btn--white">Explore our experiences</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer__container">
            <div class="footer__main">
                <div class="footer__brand">
                    <a href="index.html" class="footer__logo">
                        <img src="assets/logos/footer-logo-dmcmadeira-white.svg" alt="DMC Madeira">
                    </a>
                </div>

                <div class="footer__column">
                    <h4 class="footer__column-title">Contact us</h4>
                    <div class="footer__contact-item">
                        <img src="assets/icons/footer-icon-email.svg" alt="">
                        <a href="mailto:travel@dmcmadeira.pt">Send us an e-mail</a>
                    </div>
                    <div class="footer__contact-item">
                        <img src="assets/icons/footer-icon-phone.svg" alt="">
                        <span>+351 291 239 002</span>
                    </div>
                    <div class="footer__contact-item">
                        <img src="assets/icons/footer-icon-location.svg" alt="">
                        <span>Avenida do Mar e das Comunidades Madeirenses 15, 1st floor,<br>Funchal, Madeira, Portugal</span>
                    </div>
                </div>

                <div class="footer__column">
                    <h4 class="footer__column-title">Support</h4>
                    <ul class="footer__links">
                        <li><a href="terms-and-conditions.html" class="footer__link">Terms & conditions</a></li>
                        <li><a href="privacy-policy.html" class="footer__link">Privacy & cookie policies</a></li>
                        <li><a href="security-csirt.html" class="footer__link">Security / CSIRT</a></li>
                        <li>
                            <a href="#" class="footer__link footer__link--external">
                                Livro de reclamações
                                <img src="assets/icons/footer-icon-externallink.svg" alt="">
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="footer__column">
                    <h4 class="footer__column-title">Social media</h4>
                    <div class="footer__social">
                        <div class="footer__link">
                            <img src="assets/icons/footer-icon-facebook.svg" alt="Facebook">
                            <a href=" https://www.facebook.com/dmcmadeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                Facebook
                            </a>
                        </div>
                        <div class="footer__link">
                            <img src="assets/icons/footer-icon-instagram.svg" alt="Instagram">
                            <a href="https://www.instagram.com/dmcmadeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                Instagram
                            </a>
                        </div>
                        <div class="footer__link">
                            <img src="assets/icons/footer-icon-youtube.svg" alt="YouTube">
                            <a href="https://www.youtube.com/channel/UCl2jsov1rglJ46sdRgv3qBQ" class="footer__link" target="_blank" rel="noopener noreferrer">
                                YouTube
                            </a>
                        </div>
                        <div class="footer__link">
                            <img src="assets/icons/footer-icon-linkedin.svg" alt="LinkedIn">
                            <a href="https://www.linkedin.com/company/dmc-madeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                LinkedIn
                            </a>
                        </div>
                    </div>
                    <div class="footer__social_mobile">
                        <div class="footer__link">
                            <a href="https://www.facebook.com/dmcmadeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                <img src="assets/icons/footer-icon-facebook.svg" alt="Facebook">
                            </a>
                        </div>
                        <div class="footer__link">
                            <a href="https://www.instagram.com/dmcmadeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                <img src="assets/icons/footer-icon-instagram.svg" alt="Instagram">
                            </a>
                        </div>
                        <div class="footer__link">
                            <a href="https://www.youtube.com/channel/UCl2jsov1rglJ46sdRgv3qBQ" class="footer__link" target="_blank" rel="noopener noreferrer">
                                <img src="assets/icons/footer-icon-youtube.svg" alt="YouTube">
                            </a>
                        </div>
                        <div class="footer__link">
                            <a href="https://www.linkedin.com/company/dmc-madeira/" class="footer__link" target="_blank" rel="noopener noreferrer">
                                <img src="assets/icons/footer-icon-linkedin.svg" alt="LinkedIn">
                            </a>
                        </div>
                    </div>
                </div>

                <div class="footer__column">
                    <div class="footer__language">
                        <img src="assets/icons/footer-icon-language.svg" alt="">
                        <a href="#">Portuguese</a>
                        <span>|</span>
                        <a href="#" class="active">English</a>
                    </div>
                </div>
        </div>
        
            <div class="footer__partnerships">
                <span class="footer__partnerships-title">Partnerships:</span>
                <div class="footer__partnerships-logos">
                    <a href="#" class="footer__partnership-logo">
                        <img src="assets/logos/footer-logo-madeiraislands.svg" alt="Madeira Islands">
                    </a>
                    <a href="#" class="footer__partnership-logo">
                        <img src="assets/logos/footer-logo-apavt.png" alt="APAVT">
                    </a>
                    <a href="#" class="footer__partnership-logo">
                        <img src="assets/logos/footer-logo-acif.png" alt="ACIF">
            </a>
        </div>
    </div>

            <div class="footer__bottom">
                <p class="footer__copyright">Copyright © 2024 DMC Madeira. All rights reserved.</p>
                <p class="footer__tagline">Your Partner Creating Travel Memories.</p>
            </div>
        </div>
    </footer>

    <div class="cookie-banner">
        <p class="cookie-banner__text">We use cookies to enhance your experience, analyse traffic, and ensure website functionality. Manage your preferences at any time. See our <a href="privacy-policy.html">Cookies Policy</a>.</p>
        <div class="cookie-banner__buttons">
            <button class="cookie-banner__btn cookie-banner__btn--accept">Accept all</button>
            <button class="cookie-banner__btn cookie-banner__btn--reject">Reject non-essential</button>
        </div>
    </div>

    <!-- WhatsApp Float Button -->
    <a href="#" class="whatsapp-float" target="_blank" rel="noopener noreferrer">
        <img src="assets/icons/button-whatsapp-float.svg" alt="Contact us on WhatsApp">
    </a>

    <!-- Scripts -->
    <script src="assets/js/carousel.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const items = document.querySelectorAll('.real-actions__item');
            const itemsContainer = document.querySelector('.real-actions__items');
            const stickyImage = document.getElementById('real-actions-image');
            const section = document.querySelector('.real-actions');
            
            if (!stickyImage || !section || !itemsContainer) return;

            let currentIndex = 0;
            let isTransitioning = false;
            let isLocked = false;
            let lockPosition = 0;
            let hasCompletedDown = false;
            let hasCompletedUp = true;
            let isDesktop = window.innerWidth >= 769;

            function isMobile() {
                return window.innerWidth < 769;
            }

            function initDesktop() {
                if (isMobile()) return;
                itemsContainer.style.overflow = 'hidden';
                items[0]?.classList.add('active');
                itemsContainer?.classList.add('has-active');
            }

            // Calculate item positions for JS scrolling
            function getItemOffsets() {
                return Array.from(items).map(item => {
                    return item.offsetTop - items[0].offsetTop;
                });
            }

            function scrollContainerToItem(index) {
                if (isMobile()) return;
                
                const offsets = getItemOffsets();
                const targetOffset = offsets[index] || 0;
                
                const startScroll = itemsContainer.scrollTop;
                const distance = targetOffset - startScroll;
                const duration = 300;
                let startTime = null;

                function animateScroll(currentTime) {
                    if (!startTime) startTime = currentTime;
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    const easeOut = 1 - Math.pow(1 - progress, 3);
                    itemsContainer.scrollTop = startScroll + (distance * easeOut);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateScroll);
                    }
                }
                
                requestAnimationFrame(animateScroll);
            }

            function setActiveItem(index, force = false) {
                if (isMobile()) return false;
                if (index < 0 || index >= items.length || isTransitioning) return false;
                if (!force && index === currentIndex) return false;
                
                isTransitioning = true;
                currentIndex = index;
                const item = items[index];
                
                items.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                
                scrollContainerToItem(index);
                
                const newSrc = item.dataset.image;
                const newSrcset = `${item.dataset.image} 1x, ${item.dataset.image2x} 2x`;
                
                stickyImage.style.opacity = '0';
                setTimeout(() => {
                    stickyImage.src = newSrc;
                    stickyImage.srcset = newSrcset;
                    stickyImage.style.opacity = '1';
                    setTimeout(() => {
                        isTransitioning = false;
                    }, 150);
                }, 150);
                
                return true;
            }

            // Add click handlers to each item (desktop only)
            items.forEach((item, index) => {
                item.addEventListener('click', function() {
                    if (isMobile()) return;
                    item.style.cursor = 'pointer';
                    setActiveItem(index, true);
                });
            });

            function shouldLockScroll() {
                if (isMobile()) return false;
                
                const rect = section.getBoundingClientRect();
                const viewportHeight = window.innerHeight;
                const lockThreshold = viewportHeight * 0.3;
                
                return rect.top <= lockThreshold && rect.bottom >= viewportHeight * 0.7;
            }

            function lockScroll() {
                if (isMobile()) return;
                if (!isLocked) {
                    isLocked = true;
                    lockPosition = window.scrollY;
                    document.body.style.overflow = 'hidden';
                }
            }

            function unlockScroll() {
                if (isLocked) {
                    isLocked = false;
                    document.body.style.overflow = '';
                }
            }

            function handleWheel(e) {
                if (isMobile()) return;
                if (!shouldLockScroll()) {
                    unlockScroll();
                    return;
                }

                const scrollingDown = e.deltaY > 0;
                const scrollingUp = e.deltaY < 0;

                if (scrollingDown && currentIndex < items.length - 1) {
                    lockScroll();
                    e.preventDefault();
                    if (!isTransitioning) {
                        setActiveItem(currentIndex + 1);
                        hasCompletedUp = false;
                    }
                } else if (scrollingUp && currentIndex > 0) {
                    lockScroll();
                    e.preventDefault();
                    if (!isTransitioning) {
                        setActiveItem(currentIndex - 1);
                        hasCompletedDown = false;
                    }
                } else if (scrollingDown && currentIndex === items.length - 1) {
                    if (!hasCompletedDown) {
                        hasCompletedDown = true;
                        e.preventDefault();
                    } else {
                        unlockScroll();
                    }
                } else if (scrollingUp && currentIndex === 0) {
                    if (!hasCompletedUp) {
                        hasCompletedUp = true;
                        e.preventDefault();
                    } else {
                        unlockScroll();
                    }
                }
            }

            window.addEventListener('wheel', handleWheel, { passive: false });

            window.addEventListener('scroll', function() {
                if (isMobile()) return;
                if (isLocked) {
                    window.scrollTo(0, lockPosition);
                }
            }, { passive: true });

            // Handle resize - unlock scroll if switching to mobile
            window.addEventListener('resize', function() {
                if (isMobile() && isLocked) {
                    unlockScroll();
                    itemsContainer.style.overflow = '';
                }
            });

            // Initialize for desktop
            initDesktop();
        });
    </script>
</body>
</html>

